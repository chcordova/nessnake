{
  "name": "Entorno con Google Cloud y Gemini",

  // Usamos la imagen universal que ya viene con muchas herramientas.
  "image": "mcr.microsoft.com/devcontainers/universal:2",

  // "Features" para añadir herramientas a nivel del sistema operativo.
  "features": {
    "ghcr.io/devcontainers/features/google-cloud-cli:1": {}
  },

  // "customizations" para configurar el editor de código (VS Code).
  "customizations": {
    "vscode": {
      "extensions": [
        // Extensión oficial de Google Cloud. Muy recomendada.
        "GoogleCloudTools.cloudcode",
        // Si vas a usar Python para interactuar con la API de Gemini.
        "ms-python.python"
      ]
    }
  },

  // (Opcional) Establece variables de entorno dentro del contenedor.
   "containerEnv": {
     "GCLOUD_PROJECT": "nessnake-app"
   },

  // Comando que se ejecuta después de crear el contenedor.
  // 1. Instala las librerías de Python para Gemini.
  // 2. Inicia el doble proceso de autenticación interactiva.
  "postCreateCommand": "pip install google-generativeai python-dotenv && echo 'Entorno listo. A continuación, sigue los pasos en tu navegador para autenticarte...' && gcloud auth login && gcloud auth application-default login"
}
